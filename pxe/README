# How to build up iPXE boot for Flihabi

## Dependencies
- dnsmasq
- darkhttp

## Making the undionly.kpxe
THIS PART CONCERN USERS WHO WANTS TO CHANGE THE IPXE BOOT SCRIPT
Please see the README concerning the tinycore iso used for this part

1. First make sure to download ipxe source code in this directory:
  git clone git://git.ipxe.org/ipxe.git
2. Modify test.ipxe
3. make script
4. copy undionly.kpxe to the iso/ dir of the tinycore repo
(see https://github.com/FLIHABI/tinykore)
5. Pack the new iso

## Mounting the iso

1. mkdir -p /mnt/iso
2. sudo mount -o loop,ro test.iso /mnt/iso/
Here test.iso is the iso file generated by the tinycore repo

## Setting up the pxe
This information are proper to Archlinux distribution.
Please find the correct ones for your's

0. ip addr add 192.168.0.1/24 dev eth0
Where eth0 is the interface in
dnsmasq.conf
0.5. set your ip address in test.ipxe
1. make
OR
1. make reload (reload dnsmasq with dnsmasq.conf)
2. darkhttp /mn/iso
3. Enjoy!
