#!ipxe

dhcp
echo Hello World!
echo THIS IS FLIHABI!!!

######## MAIN MENU ###################
:start
menu Flihabi's Boot Menu
item
item --gap -- ------------------------- Operating systems ------------------------------
item tc    Boot Tinycore (or not)
item --gap -- ------------------------------ Utilities ---------------------------------
item shell      Enter iPXE shell
item reboot     Reboot
item
item exit       Exit (boot local disk)
choose --default tc --timeout 10000 target && goto ${target}


########### UTILITY ITEMS ####################
:shell
echo Type exit to get the back to the menu
shell
set menu-timeout 0
goto start

:reboot
reboot

:exit
exit

########### MENU ITEMS #######################
# SmartOS Root shadow is "root"
:tc
kernel /boot/vmlinuz
initrd /boot/core.gz
boot
goto start
